%TCIDATA{LaTeXparent=0,0,relatorio.tex}
                      
\chapter{Desenvolvimento}\label{CapDesenvolvimento}

% Resumo opcional. Comentar se não usar.
%\resumodocapitulo{Resumo opcional.}

\section{Introdu\c{c}\~{a}o}

Neste capítulo será apresentado o histórico dos estilos de codificação, que tiverem origem com a notação húngara, nos anos 70. Em seguida serão apresentados os estilos mais prominentes, como os estilos Gnu/C, Java, C++ e Python.

\section{Histórico dos padrões de codificação}

\subsection{Notação Húngara}

A notação húngara, hoje chamada Apps húngaro, foi inventada por Charles Simonyi, um programador que trabalhou na Xerox PARC entre1972 e 1981, e que mais tarde se tornou arquiteto-chefe da Microsoft \cite{notacao2015}.
 
A notação é uma referência para os estilos de codificação existentes, pois foi a partir dela que teve início o processo de definir um determinado estilo de codificação a ser seguido dentro de um projeto. A notação húngara utiliza prefixos para indicar o tipo de informação que está sendo  armazenada, fazendo com que desenvolvedores decorem nomes de identificadores baseados na informação semântica que eles armazenam \cite{notacao2015}.  Esses prefixos são letras minúsculas associadas ao conteúdo ou tipo da variável ou identificador. A Tabela \ref{tab2} lista os indicadores mais utilizados na notação húngara.

\begin{table}[ht]
        \caption{Indicadores da notação húngara}
        \label{tab2}
        \begin{center}

        \begin{tabularx}{0.7\textwidth}{lX}
        \toprule
        	\textbf{Nome} & \textbf{Descrição} \\
        \midrule
	       	s & String \\ 
        \rowcolor[gray]{0.8}
		sz & Aponta o primeiro caracter de uma string terminada em zero \\ 
		st & Ponteiro da string, o primeiro byte é contador dos caracteres \\ 
        \rowcolor[gray]{0.8}
		h & Handle \\ 
		msg & Mensagem \\ 
        \rowcolor[gray]{0.8}
		fn & Função (ponteiro) \\ 
		c & char (8 bits) \\ 
        \rowcolor[gray]{0.8}
		by & unsigned char (byte or uchar ¿ 8 bits) \\ 
		n & Inteiro \\ 
        \rowcolor[gray]{0.8}
		b & Booleana (verdadeiro ou falso) \\ 
		f & Flag (boolean, logical) \\ 
        \rowcolor[gray]{0.8}
		u & Inteiro não sinalizado \\ 
		w & Word (Variável com o tamanho de um registrador da máquina) \\ 
        \rowcolor[gray]{0.8}
		ch & Char, com texto ASCII \\ 
		l & Inteiro longo (32 bits) \\ 
        \rowcolor[gray]{0.8}
		dw & Inteiro longo não sinalizado (dword 32 bits) \\	
		pX & Ponteiro para X \\ \bottomrule
        \end{tabularx}
        \end{center}
\end{table}

Um bom desenvolvedor geralmente deve considerar os identificadores como valores mnemônicos que facilitem a lembrança do significado do nome da variável criada pelo programador; que sejam sugestivos, facilitando a leitura dos demais desenvolvedor; e que sejam simples de identificar, de modo que o desenvolvedor não perca tempo pensando para que ou em qual contexto aquela variável será utilizada \cite{notacao2015}. 

A Tabela \ref{tabVarNtHun} exemplifica várias tipos de identificadores em notação húngara e seus respectivos significados e tipos.

\begin{table}[ht]
        \caption{Variáveis utilizando notação húngara}
        \label{tabVarNtHun}
        \begin{center}
        \begin{tabularx}{0.7\textwidth}{lX}
        \toprule
                \textbf{Nome} & \textbf{Descrição} \\
        \midrule
                bBusy & boolean \\
	\rowcolor[gray]{0.8}
		chInitial & char \\ 
		cApples & count of items \\ 
	\rowcolor[gray]{0.8}
		dwLightYears & double word \\ 
		fBusy & float \\ 
	\rowcolor[gray]{0.8}
		nSize & integer or count \\ 
		iSize & integer or index \\ 
	\rowcolor[gray]{0.8}
		fpPrice & floating-point \\ 
		dbPi & double \\ 
	\rowcolor[gray]{0.8}
		pFoo & pointer \\
		rgStudents  & array, or range \\ 
	\rowcolor[gray]{0.8}
		szLastName  & zero-terminated string \\
		u32Identifier  & unsigned 32-bit integer \\
	\rowcolor[gray]{0.8}
		stTime & clock time structure \\
		fnFunction  & function name \\
	\rowcolor[gray]{0.8}
		pszOwner  & pointer to zero-terminated string \\
		rgfpBalances  & array of floating-point values \\
	\rowcolor[gray]{0.8}
		aulColors & array of unsigned long \\
		hwndFoo  & handle to a window \\
	\rowcolor[gray]{0.8}
		lpszBar  & long pointer to a zero-terminated string \\
		g\_nWheels & member of a global namespace, integer \\
	\rowcolor[gray]{0.8}
		m\_nWheels & member of a structure/class, integer \\
		m\_wheels,\_wheels  & member of a structure/class \\
	\rowcolor[gray]{0.8}
		s\_wheels  & static member of a class \\
		c\_wheels & static member of a function \\ \bottomrule
        \end{tabularx}
        \end{center}
\end{table}

O sistema húngaro foi adotado como padrão de programação do Windows, e se espalhou amplamente por meio de livros como \cite{charles2002}, a bíblia para aprender programação do Windows . Rapidamente a notação húngara se tornou o estilo de codificação dominante utilizado em códigos escritos em linguagem C \cite{notacao2015}.

Mas, por algum motivo não divulgado ao público, com a primeira versão da plataforma .NET, a Microsoft começou a abandonar o uso da notação húngara. A equipe de projetos do Excel e Word ficaram aliviados em não ter que usar uma convenção de nomenclatura estranha, já que nos dias atuais a verificação de declaração dos tipos de variáveis é feita pelo compilador e há o recurso de autocompletar o código digitado que sugere um conjunto de opções ao programador, a depender do contexto \cite{notacao2015}.

\subsection{GNU C}

O estilo de codificação Gnu/C foi proposto e definido por Richard Stallman e outros voluntários do projeto GNU em meados de 1992, pois Stallman acreditava que a adoção de um padrão tornaria os programas e componentes GNU limpos, consistentes e de fácil manutenção.

Para que um novo desenvolvedor possa participar de algum projeto ou criar algo para a comunidade do software livre GNU, é exigido apenas que ele se atente ao  documento oficial de estilos\footnote{http://www.gnu.org/prep/standards/}.  É de suma importância que se utilize a versão atualizada, para que não seja escrito um código formatado sobre regras que possam ter sido revogadas ou substituídas.

Também é possível que o desenvolvedor faça uma contribuição para o documento que descreve o estilo de codificação GNU/C. Caso ele detecte alguma inconsistência ou uma possível evolução em um determinando conteúdo, basta enviar um email para bug-standards@gnu.org  com a descrições das contribuições \cite{stallman2015}.

O estilo GNU proposto para a linguagem C possui características próprias no que se refere à formatação, comentários, convenção de nomes, tabulações, espaços e indentações, dentre outros.

\subsection{Formatação}

O estilo de codificação Gnu/C utiliza 79 caracteres para o comprimento das linhas. Segundo Stallman, esta caraterística facilita a leitura do código nos mais diversos ambientes e editores.
O estilo também recomenda a utilização de colchetes "{}", para o bloco da função em linha posterior à da declaração da função e ao final do bloco. O Código \ref{formatGnuC}, exemplifica a formatação mencionada.

\lstinputlisting[language=C, caption=Formatação GNU C, label=formatGnuC]{cods/formatgnu.c}

\subsection{Comentário}

Stallman diz que todo programa deve começar com um comentário no topo do código-fonte contendo a função 'principal' do programa. Este comentário deve informar o nome do arquivo e apresentar uma ou duas linhas a respeito do objetivo geral do programa. As estruturas e as funções devem trazer comentários com a descrição sobre sua funcionalidade, quais os tipos de argumentos pode receber e o seu tipo de retorno, quando houver.

É  recomendado que os comentários sejam escritos em inglês. A justificativa é que o inglês é o idioma comum para quase todos os desenvolvedores, tornando possível a um grande número de pessoas entenderem o que foi definido naquela função.

O Código \ref{comentGnuC} exemplifica um programa com comentários no estilo GNU/C.

\lstinputlisting[language=C, caption=Comentários GNU C, label=comentGnuC]{cods/comentgnu.c}

\subsection{Convenção de nomes}

O nomes de variáveis e funções globais devem ser concisos, trazendo consigo informações úteis sobre o significado da variável ou função. Assim como o comentário, os identificadores devem ser escritos em  inglês. Variáveis locais podem conter nomes mais curto, porque elas são utilizadas apenas dentro de um contexto específico. É recomendado a utilização de sublinhados para separar palavras e nomes, de modo que os comandos possam ser legíveis. O estilo GNU/C sugere o uso apenas de letras minúsculas para identificadores de variáveis e funções, reservando maiúsculas para macros, constantes, enumerações e para prefixos que seguem uma convenção uniforme.

O Código \ref{varGnuC}, exemplifica uma variável cujo identificador segue o padrão GNU/C.

\lstinputlisting[language=C, caption=Variáveis Gnu C, label=varGnuC]{cods/vargnu.c}

\subsection{Indentação}

Segundo \cite{kernelorg2002}, a idéia por trás da indentação é definir claramente onde um bloco de controle começa e onde ele termina. A indentação, em geral, utiliza 8 caracteres, mas existem editores que utilizam apenas 4, ou até mesmo 2 caracteres. Porém, de acordo com \cite{kernelorg2002}, a definição do tamanho de uma indentação é um problema semelhante ao da definição de uma aproximação para o valor da constante $\pi$.

Apesar de algumas pessoas argumentarem que a utilização de 8 caracteres faz com que o código fonte fique muito deslocado à direita, o que como consequência faz com que seja difícil a leitura em uma tela de 80 caracteres, é desaconselhável a utilização de mais de 3 níveis de indentação em um mesmo bloco.

\subsection{Espaçamento}

De acordo com \cite{kernelorg2002}, um dos principais usos de espaços é a separação e destaque de palavras chaves que geralmente são acompanhadas de parênteses.

A Tabela \ref{palchaveGnuC} exemplifica algumas palavras chaves que utilizam espaço após sua declaração.

\lstinputlisting[language=C, caption=Palavras chaves espaços em brancos Gnu C, label=palchaveGnuC]{cods/palchavegnu.c}

Já a Tabela \ref{palchaveExcGnuC} exemplifica algumas palavras chaves que não  utilizam espaço após sua declaração.

\lstinputlisting[language=C, caption=Palavras chaves exceção espaços em brancos Gnu C, label=palchaveExcGnuC]{cods/palchaveexcgnu.c}

\section{Java}

Após ter sua solicitação de padronização negada pelos orgãos ISO/IEC e ECMA a empresa Sun Microsystems criou, em 1998, o Java Community Process (JCP), com o objetivo de ser um processo aberto e participativo para desenvolver e revisar as especificações de suas implementações de referência, das suítes de teste e do estilo de codificação da tecnologia Java.
 
A abertura do JCP permitiu que empresas concorrentes da Sun se tornassem participantes ativas da evolução da Tecnologia Java. Diferentemente da maioria dos processos de padronização existentes, é possível o envolvimento de pessoas físicas sem custos financeiros. Isso fez do JCP um ponto de atração para a discussão e evolução da tecnologia Java.
 
Em 13 de novembro de 2006 foi lançada a maior parte do Java como Software Livre sob os termos da GNU (GPL). Em 8 de maio de 2007 o processo de adoção da nova licença foi finalizado, tornando praticamente todo o código Java como software de código aberto, exceto uma pequena porção da qual a Sun não possui copyright \cite{javamagazine2013}.

[TODO perguntar sobre estas citações]

De acordo com \cite{javamagazinecj2013}, a linguagem Java, em sua criação, teve como base a linguagem C++, que por sua vez teve como base a linguagem C. Com isto a linguagem possui algumas características semelhantes às encontradas em C/C++, dentre elas os tipos de comentários e estruturas de seleção, repetição. Naturalmente há outras características que são únicas do Java, como comentários para documentação e convenção de nomenclatura, dentre outras.

\subsection{Formatação}
\label{sec:formatacao}
Segundo \cite{oracle2015}, a linguagem Java deve utilizar quatro espaços como unidade de recuo e evitar linhas com mais de 80 caracteres, uma vez que que recuos maiores ou linhas com mais de 80 caracteres não são bem tratadas por determinados terminais e ferramentas. Quando uma expressão não couber em uma única linha, ela deves ser interrompida de acordo com os seguintes  princípios:

\begin{enumerate}
\item após uma vírgula; 
\item antes de um operador;
\item a nova linha deve estar alinhada com o início de cada expressão, no mesmo nível da linha anterior.
\end{enumerate}

\subsection{Comentários}

De acordo com \cite{oracle2015}, todos os códigos-fontes devem começar com um comentário semelhante ao estilo GNU/C citado em \ref{sec:formatacao}. No estilo Java é necessário que o comentário contenha o nome da classe, informações sobre a versão, a data de criação e o aviso de direitos autorais.  Os comentários de implementação são delimitados por /*...*/ ou precedidos pelos caracteres //. Os comentários de documentação são conhecidos como "comentários doc" e são delimitadas pelos marcardos "/**" e "*/".

O Código \ref{comentjava} exemplifica o estilo de comentário Java para início de uma classe.

\lstinputlisting[language=Java, caption=Comentário Java ( \cite{oracle2015} com adaptações), label=comentjava]{cods/coment.java}

O Código \ref{comentumalinhajava} exemplifica comentários de linha única.

\lstinputlisting[language=Java, caption=Comentários de linha única em Java, label=comentumalinhajava]{cods/comentumalinha.java}

De acordo com \cite{javadocj2013}, a ferramenta JavaDoc fornece uma linguagem especifica para enriquecer os comentários da linguagem Java, pois baseia-se na inserção de textos explicativos em forma de um comentário especial, que antecedem o escopo de uma classe ou de um método, tendo a responsabilidade de apresentar o elemento que sucede o comentário.

Seu funcionamento  é baseado no uso de marcação de documentos  com doclets, gerando arquivos nos formatos HTML \textit{(HyperText Markup Language)}, SGML \textit{(Standard Generalized Markup Language)}, XML \textit{(EXtensible Markup Language)} ou RTF \textit{(Rich Text Format)}. Tais marcações são feitas através de comentários, contendo tags especiais que especificam quais informações serão inseridas, com objetivo de manter uma massa de conhecimento reutilizável em qualquer projeto que faça uso da classe em questão.

A Tabela \ref{tabtagsJavaDoc}, exibe algumas tags utilizadas pelo javaDoc e seu respectivo significado.

\begin{table}[ht]
        \caption{Tags JavaDoc.}
        \label{tabtagsJavaDoc}
        \begin{center}
        \begin{tabularx}{0.9\textwidth}{lX}
        \toprule
                \textbf{Tag} & \textbf{Significado} \\
        \midrule
		@author & Especifica o autor da classe ou do método em questão. \\
	\rowcolor[gray]{0.8}
		@deprecated & Identifica classes ou métodos obsoletos. É interessante \\
		@link & Possibilita a definição de um link para um outro documento local ou remoto através de um URL.\\
	\rowcolor[gray]{0.8}
		@param & Mostra um parâmetro que será passado a um método.\\
		@return & Mostra qual o tipo de retorno de um método.\\
	\rowcolor[gray]{0.8}
		@see & Possibilita a definição de referências de classes ou métodos, que podem ser consultadas para melhor compreender a idéia daqui			lo que está sendo comentado.\\
		@since & Indica desde quando uma classe ou método foi adicionado\\
	\rowcolor[gray]{0.8}
		@throws & Indica os tipos de exceções que podem ser lançadas por um método.\\
		@version & Informa a versão da classe.\\
	
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

O Código \ref{utiltagsjava}, exemplifica a utilização de comentário no padrão javaDoc.

\lstinputlisting[language=Java, caption=Utilizando tags JavaDoc, label=utiltagsjava]{cods/utiltags.java}

\subsection{Convenção de nomes}

De acordo com \cite{convencoesjava2013}, as convenções de nomes em Java tem como objetivo tornar os programas mais fáceis e compreensíveis, podendo também fornecer informações sobre a função do identificador.

A Tabela \ref{tabtpidentJava} exemplifica alguns tipos de identificadores, utilizados em Java.

\begin{table}[ht]
        \caption{Tipos de Identificadores Java ( \cite{convencoesjava2013}, com adaptações ).}
        \label{tabtpidentJava}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lXX}
        \toprule
                \textbf{Tipo de Identificador} & \textbf{Regras Para Nome} & \textbf{Exemplos} \\
        \midrule
		Pacotes & O prefixo do nome do pacote deve ser único, deve sempre ser escrito em letras minúsculas em ASCII e deve ser um dos nomes de domínio de nível superior, tal como especificado na norma \cite{iso3166-2015}. 
		Componentes subseqüentes do nome do pacote varia de acordo com uma organização próprias convenções de nomenclatura internos. & com.sun.eng com.apple.quicktime.v2 edu.cmu.cs.bovik.cheese \\
	\rowcolor[gray]{0.8}
		Classes & Os nomes de classe devem ser substantivos, em maiúsculas e minúsculas, com a primeira letra de cada palavra em maiúscula. & class Raster; class ImageSprite; \\

		Interfaces & Nomes de interfaces devem ser usadas com as primeiras letras em maiúsculas como nome de classes. & interface 
		RasterDelegate; interface Storing; \\
	
	\rowcolor[gray]{0.8}
		Métodos & Métodos devem ser verbos, com a letra minúscula em primeiro lugar, com a primeira letra de cada palavra interna em 
		maiúscula. & run(); runFast(); getBackground(); \\

		Variáveis & Os nomes de variáveis não deve começar com underscore \_ ou sinal de dólar \$, mesmo que ambos sejam permitidos. 
		Os nomes de variáveis devem ser curtos, mas significativos. A escolha de um nome variável deve ser mnemônico. Os nomes comuns para 
		variáveis temporárias são i, j, k, m, n para inteiros, c, d, e para caracteres & int i; char c; float myWidth; \\

	\rowcolor[gray]{0.8}
		Constantes & Os nomes de variáveis declaradas constantes de classes e de constantes ANSI deve ser todo em letras maiúsculas com 
		palavras separadas por sublinhados ("\_"). & static final int MIN\_WIDTH = 4; static final int MAX\_WIDTH = 999; \\ 
       \bottomrule
        \end{tabularx}
        \end{center}
\end{table}

\subsection{Indentação}

De acordo com \cite{oracle2015}, a indentação na linguagem Java  deve conter 4 espaços ou 1 tabulação cujo tamanho corresponde exatamente à 8 espaços. A construção exata do recuo (espaços ou tabulação) é indeterminado.

\subsection{Espaços em branco em expressões}

De acordo com \cite{oracle2015}, as linhas em branco melhoram a legibilidade ao separar seções de código que são logicamente relacionada.
Duas linhas em branco deve ser sempre utilizado nas seguintes circunstâncias:

\begin{enumerate}
\item entre as seções de um arquivo de origem;
\item entre as definições de classe e de interfaces.
\end{enumerate}

Uma linha em branco deve ser sempre utilizada:

\begin{enumerate}
\item entre os métodos de uma classe;
\item entre as variáveis locais de um método e sua primeira declaração;
\item antes de um bloco ou de linha única de um comentário;
\item entre seções lógicas dentro de um método, para melhorar a legibilidade.
\end{enumerate}

As linguagens Java e C possuem outros tipos estruturas comuns entre si, as quais podem ser consultadas no guia de estilo das linguagem citadas nos itens \footnote{http://www.gnu.org/prep/standards/} e \footnote{http://www.oracle.com/technetwork/java/codeconvtoc-136057.html}.

\section{Python}

De acordo com \cite{histpython1990}, a linguagem Python foi criada no início de 1990 por Guido van Rossum no instituto de pesquisa Stichting Mathematisch Centrum - CWI\footnote{http://www.cwi.nl}, localizado na Holanda. Esta linguagem é considerada uma sucessora da linguagem ABC.

Segundo \cite{guido2011}, Python é uma  linguagem de programação fácil de aprender, poderosa, e que possui eficientes estruturas de dados de alto nível e suporte à programação orientada a objetos. Sua sintaxe é elegante e possui tipagem dinâmica a qual, juntamente com a sua natureza interpretada, torna a linguagem ideal para o desenvolvimento de scripts e eficaz para desenvolvimento de aplicações em diversas áreas, em múltiplas plataformas.

As ferramentas e a documentação da linguagem Python são softwares de código aberto com uma licença compatível com a General Public License (GPL), porém menos restritiva, permitindo que o Python seja inclusive incorporado em produtos proprietários. A especificação da linguagem é mantida pela Python Software Foundation (PSF). Além de ser utilizada como linguagem principal no desenvolvimento de sistemas, o Python também é muito utilizado como linguagem script em vários softwares, permitindo automatizar tarefas e adicionar novas funcionalidades em softwares desenvolvidos primariamente em outras linguagens \cite{guido2011}.

A implementação oficial do Python é mantida pela PSF e escrita em C e, por isso, é também conhecida como CPython. A versão estável mais recente está disponível para download no endereço: \footnote{http://www.python.org/download/}. Para a plataforma Windows, basta executar o instalador. Para outras plataformas, como em distribuições Linux, geralmente o Python já faz parte da distribuição; porém em alguns casos pode ser necessário compilar e instalar o interpretador a partir dos arquivos fonte.

Existem também implementações de Python para .NET (IronPython)\footnote{http://ironpython.net/}, JVM (Jython)\footnote{http://www.jython.org/} e em Python (PyPy)\footnote{http://pypy.org/} \cite{guido2011}.

Todas as versões da linguagem Python são open source\footnote{http://opensource.org}. A maioria das versões de Python são compatíveis com a licença GPL; a Tabela \ref{tabtpidentJava} resume as principais características de cada versão.

\begin{table}[ht]
        \caption{Versões Python ( \cite{histpython1990}, com adaptações ).}
        \label{tabtpidentJava}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lXXXX}
        \toprule
                \textbf{Versão} & \textbf{Evolução de} & \textbf{Ano} & \textbf{Proprietário} & \textbf{Compatibilidade GPL} \\
        \midrule
		0.9thru .0 1.2 & n/a & 1991-1995 & CWI & yes \\
	\rowcolor[gray]{0.8}
		1.3 thru 1.5.2 & 1.2 & 1995-1999 & CNRI & yes \\
		1.6 & 1.5.2 & 2000 & CNRI & no \\
	\rowcolor[gray]{0.8}
		2.0 & 1.6 & 2000 & BeOpen.com & no \\
		1.6.1 & 1.6 & 2001 & CNRI & no \\
	\rowcolor[gray]{0.8}
		2.1 & 2.0+1.6.1 & 2001 & PSF & no \\
		2.0.1 & 2.0+1.6.1 & 2001 & PSF & yes \\
	\rowcolor[gray]{0.8}
		2.1.1 & 2.1+2.0.1 & 2001 & PSF & yes \\
		2.1.2 & 2.1.1 & 2002 & PSF & yes \\
	\rowcolor[gray]{0.8}
		2.1.3 & 2.1.2 & 2002 & PSF & yes \\
		2.2 e acima & 2.1.3 & 2001- atualmente & PSF & yes \\
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

\section{PEP8}
\label{pep8}

De autoria de Guido van Rossum,  Barry Warsaw, Nick Coghlan (sendo Guido o autor da própria linguagem Python), o PEP8 (Python Enhancement Proposal 8) propõe um estilo de codificação para a linguagem Python, com regras e orientações que destinam-se a melhorar a legibilidade do código e torná-lo coerente em todo o amplo espectro de códigos-fontes escritos nesta linguagem. Este guia de estilo foi criado em 2001 a partir da versão 2.0.1 do Python (ver Tabela \ref{tabtpidentJava}), sendo uma evolução da convenção denominada PEP257\footnote{https://www.python.org/dev/peps/pep-0007} \cite{pep8-2001}.

Assim como os estilos de codificação C e Java, o guia de estilo para Python também possui suas características e particularidades, como formatação, comentários, convenção de nomenclaturas, dentre outras.

\subsection{Codificação de caracteres}

Códigos-fontes escritos em Python deve sempre utilizar codificação ASCII \textit{(American Standard Code for Information Interchange)} ou ISO-8859-1, que é uma codificação de caracteres do alfabeto latino. Para as versões Python 3.0 ou superiores é preferível a utilização da codificação UTF-8 \textit{(8-bit Unicode Transformation Format)} \footnote{http://www.python.org/dev/peps/pep-3120}.

\subsection{Formatação}

De acordo com \cite{pep8-2001}, por se tratar de uma linguagem que raizes na linguagem C, o estilo de codificação Python também traz consigo a limitação de 79 caracteres por linha, ainda que muitos dispositivos que sejam limitados a 80 caracteres. Para longos blocos de texto como docstrings ou comentários, a limitação é de 72 caracteres. Para linhas longas deve ser utilizada a continuação implícita entre parênteses, colchetes e chaves.

\subsection{Importações}

Importações ficam sempre no começo do arquivo, após os comentários e a docstring de módulo, e antes da declaração das constantes e variáveis globais. Quando um pacote é importado, são adicionadas funcionalidades criadas por terceiros ou da biblioteca padrão ao código-fonte em desenvolvimento.

Importações devem aparecer na seguinte ordem, de acordo com a origem do pacote:

\begin{enumerate}
\item biblioteca padrão;
\item de terceiros;
\item da aplicação. 
\end{enumerate}

De acordo com \cite{pep328-2003}, deve ser utilizado o caminho absoluto do pacote na utilização de importações, pois tais linhas são mais portáteis e, geralmente, mais legíveis. 

A Tabela \ref{importpy} exemplifica a utilização de importação de pacotes segundo às recomendações citada na seção \ref{pep8}.

\lstinputlisting[language=Python, caption=Importação de pacotes conforme o estilo Python., label=importpy]{cods/import.py}

A Tabela \ref{importnotstylepy} exemplifica a utilização de importação de pacotes de forma divergente à proposta no estilo citado na seção \ref{pep8}.

\lstinputlisting[language=Python, caption=Importação pacotes que não segue o estilo PEP8., label=importnotstylepy]{cods/importnotestyle.py}

\subsection{Comentários}

Comentários são frases ou orações relacionadas ao significado e funcionamento de um determinado trecho de código. A primeira letra de um cometário deve ser maiúscula, a não ser que seja um identificador que comece com minúscula. 
Comentários de bloco normalmente consistem em um ou mais parágrafos, divididos em múltiplas linhas; já os comentários em uma mesma linha devem ter ao menos dois espaços de distância do último caractere e começar com um '\#', um espaço e o texto.

O Código \ref{comentonelinepy}, exemplifica um comentário de uma linha.

\lstinputlisting[language=Python, caption=Comentário de uma linha., label=comentonelinepy]{cods/comentoneline.py}

\subsection{DocStrings}

O manual \cite{pep257-2001} descreve como escrever um comentário em formato docstring, o qual consiste em uma cadeia de caracteres que ocorre como a primeira declaração em um módulo, função, classe ou definição de método. 

A  Tabela \ref{docstringpy} exemplifica um comentário em formato docstrings.

\lstinputlisting[language=Python, caption=Comentário em formato docstrings., label=docstringpy]{cods/docstrig.py}

\subsubsection*{Indentação}

De acordo com \cite{pep8-2001}, não se pode misturar tabulações e espaços para a utilização de indentação: o recomendado é que se utilize 4 espaços para a indentação dos blocos. Para projetos mais antigos  a orientaçao é utilizar uma tabulação (tecla TAB), 
com tamanho equivalente a 8 espaços. 

\subsection{Espaço em branco em expressões}

De acordo com \cite{pep8-2001}, a utilização de linhas em branco deve seguir as seguintes recomendações:

\begin{enumerate}
\item separar funções de nível superior e definições de classe com duas linhas em branco;
\item definições de método dentro de uma classe são separadas por uma linha em branco;
\item linhas em branco extras podem ser utilizadas com moderação para separar grupos de funções;
\item usar linhas em branco em funções, com moderação, para indicar seções lógicas.
\end{enumerate}

 Deve-se evitar espaços em branco nas seguintes situações: 

\begin{enumerate}
\item dentro de parênteses, colchetes e chaves;
\item antes de vírgula, ponto e vírgula e dois-pontos; 
\item antes do parêntese de abertura da lista de argumentos de uma função;
\item antes do colchete de índices; 
\item mais de um espaço em torno de um operador para alinhar com outros;
\item não usar espaços em volta do caractere '=' quando é antecedido por uma palavra-chave de um argumento ou sucedido por um valor padrão para um parâmetro.
\end{enumerate}

Outra recomendação relativa ao uso de espaços em branco é sempre colocar espaços em torno das operações.

\subsection {Convenção de nomes}

Segundo \cite{pep8-2001} as convenções de nome da biblioteca padrão da linguagem Python são confusas,
 e inconsistentes. No entanto, são recomendadas as seguintes convenções para a construção de nomes e identificadores, numeradas por ordem de prioridade:

\begin{enumerate}
\item uma letra minúscula
\item uma letra maiúscula
\item minúsculas
\item minúsculas\_com\_sublinhado
\item MAIÚSCULAS
\item MAIÚSCULAS\_COM\_SUBLINHADO
\item IniciaisMaiúsculas 
\end{enumerate}

Nunca utilize os caracteres 'l' (ele minúsculo), 'O' (o maiúsculo), ou I, (i maiúsculo) como nome de uma variável de apenas um caractere pois, em determinadas fontes, esses caracteres são indistinguíveis dos numerais 1 (um) e 0 (zero). Quando  for necessário a usar 
o 'l', usar o caractere 'L' em seu lugar.

Módulos devem ter nome em minúsculas. Sublinhado podem ser usados no nome do módulo se implicar em uma melhora na legibilidade. Pacotes Python devem ter um nome curto, todo em minúsculas, embora nesse caso o uso de sublinhados seja desencorajado.

Uma vez que nomes de módulos são mapeados para nomes de arquivos, e alguns sistemas de arquivos não diferenciam maiúsculas de minúsculas e truncam nomes longos, é importante que o nome do módulo escolhido seja bastante curto. Nomes longos não são um problema em plataformas Unix, mas podem vir a ser em sistemas operacionais Mac OSX mais antigos ou em ambientes Windows e DOS.

Em relação aos métodos e classes, utilize sempre o identificador "self" como primeiro argumento de métodos de instância e usar "cls" como primeiro argumento para métodos de classe. 

O guia de estilos proposto para a linguagem Python no item citado na seção \ref{pep8} é extenso, e pode ser consultado em \cite{pep8-2001}  e no Anexo B.

\subsection{Outros Guias de Estilos}

Segundo \cite{googlestyle}, todo grande projeto de código aberto tem seu próprio guia de estilo, que por sua vez possui um conjunto de convenções, por vezes arbitrário, sobre como escrever código para o projeto. A título de exemplo, a Tabela \ref{guiagoogle} contém os endereços de diretrizes de estilo utilizado em projetos da Google.

\begin{table}[ht]
        \caption{Guias de estilo google.}
        \label{guiagoogle}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \toprule
                \textbf{Guia de Estilo} & \textbf{Endereço eletrônico} \\
        \midrule
		C++ Style Guide & http://google-styleguide.googlecode.com/svn/trunk/cppguide.html \\
	\rowcolor[gray]{0.8}
		Objective-C Style Guide & http://google-styleguide.googlecode.com/svn/trunk/objcguide.xml \\
		Java Style Guide & http://google-styleguide.googlecode.com/svn/trunk/javaguide.html \\
	\rowcolor[gray]{0.8}
		Python Style Guide & http://google-styleguide.googlecode.com/svn/trunk/pyguide.html \\
		Shell Style Guide & http://google-styleguide.googlecode.com/svn/trunk/shell.xml \\
	\rowcolor[gray]{0.8}
		HTML/CSS Style Guide & http://google-styleguide.googlecode.com/svn/trunk/htmlcssguide.xml \\
		JavaScript Style Guide & http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml \\
	\rowcolor[gray]{0.8}
		AngularJS Style Guide & https://google-styleguide.googlecode.com/svn/trunk/angularjs-google-style.html \\
		Common Lisp Style Guide & http://google-styleguide.googlecode.com/svn/trunk/lispguide.xml \\
	\rowcolor[gray]{0.8}
		Vimscript Style Guide & http://google-styleguide.googlecode.com/svn/trunk/vimscriptguide.xml \\ 
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

\section {IDE - \textit{Integrated Development Environments}}

Segundo \cite{learningjava2013},  uma maneira intuitiva e fácil de adotar um estilo de codificação é utilizar uma ferramenta de formatação de código que faça parte ou funcione conjuntamente a um IDE. 

IDEs (Integrated Development Environment) são pacotes de software que integram várias ferramentas de desenvolvimento em um ambiente consistente, com o objetivo de aumentar a produtividade do desenvolvedor. Geralmente, IDEs incluem recursos como syntax highlight (código fonte colorizado conforme a sintaxe da linguagem), navegadores de código, shell integrado e code completion (o editor apresenta, durante a digitação, formas possíveis de completar o texto que ele consegue identificar) \cite{guido2011}.

Entre as IDEs que suportam Python, encontram-se: 

\begin{itemize}
\item PyScripter5\footnote{https://code.google.com/p/pyscripter/wiki/FAQ};
\item SPE6 (Stani's Python Editor)\footnote{http://sourceforge.net/p/spe/wiki/Home/};
\item Eric7\footnote{http://eric-ide.python-projects.org/};
\item PyDev8 (plug-in para a IDE Eclipse). 
\end{itemize}

O IDE Eclipse é mantido por uma comunidade cujos projetos estão focados na construção de uma plataforma de desenvolvimento aberta composta por frameworks extensíveis e ferramenta para a construção, implementação e gerenciamento de software em todo o ciclo de vida. 
\cite{eclipse2015}

\chapter{Metodologias (Materiais e Métodos)}

Nesta seção são descritas as metodologias e ferramentas utilizadas para o desenvolvimento de algoritmos para obtenção de arquivos e a extração de métricas para a análise de estilo de códigos escritos em Python.

\section{Ferramentas}

Nesta seção são descritas as versões, releases e ferramentas utilizadas no desenvolvimento deste estudo, tais como os sistemas operacionais Windows 8 e Linux Mint 17, o IDE Eclipse, o plugin PyDev e editor de texto Vim.

\subsection{Sistema Operacional Windows}

Windows 8 é o mais novo membro da família Windows, projetado para ser utilizado em  dispositivos móveis ou computadores pessoais, com uma interface totalmente nova e adaptada para dispositivos sensíveis ao toque \cite{intowindows8-2012}. Neste trabalho foi utilizado o Windows 8.1, versão 6.3.9600, 64 bits, ilustrado na Figura \ref{win8}.

\begin{figure}[ht!]
\centering
\includegraphics[scale=0.3]{figs/win8.png}
\caption{Windows 8 \label{win8}}
\end{figure}

\subsection{Sistema Operacional Linux}
\label{linux_mint}
O Linux Mint é  uma distribuição livre de custos e de código aberto, voltado para a comunidade. Baseado em Debian e Ubuntu, é a mais popular distribuição Linux e o terceiro sistema operacional mais utilizado em computadores pessoais, atrás somente de Microsoft Windows e Mac OSX da Apple \cite{linuxmint_2015}. A versão utilizada  neste trabalho foi Linux Mint 17, 64 bits,  ilustrado na Figura \ref{mint}.

\begin{figure}[ht!]
\centering
\includegraphics[scale=0.4]{figs/mint.png}
\caption{Linux Mint 17 \label{mint}}
\end{figure}

\subsection{IDE's - Eclipse}

O Eclipse é o IDE utilizado neste projeto, por ser de fácil aprendizagem e possuir um núcleo extremamente adaptável às necessidades do projeto. A versão utilizada  neste trabalho é 
Eclipse Luna Release (4.4.0), build id: 20140612-0600.

As versões utilizadas podem ser obtidas no em \footnote{http://bit.ly/1EPcAGg} e \footnote{http://bit.ly/1KY7Zqh}

A tela principal do Eclipse pode ser vista na Figura  \ref{eclipse}.

\begin{figure}[ht!]
\centering
\includegraphics[width=140mm]{figs/eclipse.png}
\caption{IDE Eclipse \label{eclipse}}
\end{figure}

\subsection{IDE's - PyDev}

PyDev é um plugin do IDE Eclipse, que pode ser usado  para desenvolvimento em Python, Jython e IronPython \cite{pydev_2015}. A Figura \ref{pydev} ilustra o IDE Eclipse com o plugin PyDev. A versão utilizada é 3.9.0 que pode ser obtida através do seguinte link: \footnote{http://pydev.org/updates}

\begin{figure}[ht!]
\centering
\includegraphics[width=140mm]{figs/pydev.png}
\caption{IDE Eclipse com plugin PyDev \label{pydev}}
\end{figure}

\subsection{Editores de texto - VIM}

Segundo \cite{learning-vim-2008}, a sigla VIM significa "vi melhorado." O VIM é um editor de texto que foi escrito e é mantido por Bram Moolenaar. Atualmente, Vim é talvez o clone do vi mais amplamente utilizados, e existe um domínio da Internet \footnote{http://vim.org} dedicado a ele. A versão atual é  a 7.1. Irrestrito por normas ou comitês, o Vim continua a crescer em termos de funcionalidade. Uma comunidade inteira cresceu em torno dele. Coletivamente,  os membros da comunidade decidem os novos recursos a serem adicionados e as funcionalidades existentes a serem modificadas através da nomeação e votação para sugestões durante os ciclos de desenvolvimento.

Vim é um editor modal no sentido de que as teclas do teclado têm diferentes funções em cada modo de operação; possui suporte a expressões regulares em buscas, com várias extensões à sintaxe padrão de expressões regulares, mapeamento de qualquer tecla do teclado e corretor ortográfico a partir da versão 7.0; funciona tanto no console/terminal quanto em ambiente gráfico (que neste caso utiliza o aplicativo gVim); é absolutamente programável, via interfaces com interpretadores (Perl, Python, Ruby) ou via seu próprio interpretador; contém vários temas de cores e tem licença GPL. \cite{vim_2015}

A tela do editor modo texto Vim pode ser vista na Figura \ref{vim}

\begin{figure}[ht!]
\centering
\includegraphics[width=140mm]{figs/vim.png}
\caption{Editor Vim em modo texto \label{vim}}
\end{figure}

A versão utilizada neste trabalho é a 7.4 que pode ser obtida através do repositório oficial do sistema operacional Linux Mint 17.

\subsection{PEP8 Tools}

É uma ferramenta de verificação de código-fonte em linguagem Python que valida as convenções propostas pelo estilo \ref{pep8}. Tem como característica  principal a arquitetura de plugins, que podem ser incorporados  à ferramentas como interpretadores de comando e IDEs. \cite{peptools_2015}

Sua instalação, atualização e desinstalação podem ser realizadas através dos comandos descritos na Tabela \ref{instpep8}

\begin{table}[ht]
        \caption{Instalação e desinstalação pep8.}
        \label{instpep8}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
                \$ pip install pep8 \\
                \$ pip install --upgrade pep8 \\
                \$ pip uninstall pep8 \\
        \bottomrule
        \end{tabularx}
        \end{center}
\end{table}

A ajuda rápida está disponível através da linha de comando "pep8 -h", que tem como resposta as opções listadas na Tabela \ref{helpPep8}.

\begin{table}[ht]
        \caption{Pep8 Ajuda.}
        \label{helpPep8}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \toprule
                \textbf{Opções} & \textbf{Descrição} \\
        \midrule
	        --version & Exibe o número da versão e finaliza o programa.\\
	\rowcolor[gray]{0.8}
		-h, --help & Exibe esta tabela de parâmetros de comandos e finaliza o programa.\\
		-v, --verbose & Exibe mensagens de status imprimindo o conteúdo do comando ou depuração com o parâmetro -vv.\\
	\rowcolor[gray]{0.8}
		-q, --quiet & Relatório apenas com os nomes dos arquivos, ou arquivo vazio com o paramêtro -qq. \\
		--first & Exibe a primeira ocorrência de cada erro.\\
	\rowcolor[gray]{0.8}
		--exclude=patterns & Excluir arquivos ou diretórios que correspondem aos itens separados por vírgula por padrão é separado as seguintes extensões (.svn, CVS, .bzr, .hg, .git).\\
		--filename=patterns & Analisa diretório e verificar nomes de arquivos que contém extensão (* .py).\\
	\rowcolor[gray]{0.8}
		--select=errors & Selecione os erros e avisos (por exemplo, E, W6).\\
		--ignore=errors & Ignorar os erros e avisos (por exemplo, E4, W).\\
	\rowcolor[gray]{0.8}
		--show-source & Exibe o código-fonte para cada erro.\\
		--show-pep8 & Exibe texto do PEP 8 para cada erro.\\
	\rowcolor[gray]{0.8}
		--statistics & Calcula a quantidade de erros e alertas.\\
		--count & Imprimir o número total de erros e alertas para o padrão de erro e definir o código de saída para 1 se o total não é nulo.\\
	\rowcolor[gray]{0.8}
		--max-line-length=n & Define o comprimento máximo permitido por cada linha (padrão: 79). \\
		--hang-closing & Formatação para abrir e fechar colchetes, utilizando recuo como endentação. \\
	\rowcolor[gray]{0.8}
		--format=format & definir o formato de erro [ pylint | <custom>], o padrão é o pylint. \\
		--diff & Exibe um relatório apenas com as linhas alteradas de acordo com a comparação unificada recebido por parâmetros entrada. \\
	\rowcolor[gray]{0.8}
		--benchmark & Mede a velocidade de processamento. \\
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

O Código \ref{statistpep8} contem um exemplo de utilização de um dos parâmetros da Tabela \ref{helpPep8}.

\begin{table}[ht]
        \caption{Pep8 estatísticas.}
        \label{statistpep8}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
        \$ pep8 --statistics -qq Python-2.5/Lib\\
	232     E201 Espaços em branco depois de '[' \\
	631     E203 Espaços em branco antes de ',' \\
	842     E211 Espaços em branco antes de '(' \\
	2531    E221 mútliplos espaços antes de operador \\
	4473    E301 esperado 1 linha em branco, encontrada 0 \\
	4006    E302 esperado 2 linha em brancos, encontrada 1 \\
	165     E303, muita linha em brancos (4) \\
	325     E401 mútliplosimports on one line \\
	3615    E501 linha muito longa (82 characters) \\
	612     W601 .has\_key() is deprecated, usar 'in' \\
	\bottomrule
	\end{tabularx}
	\end{center}
\end{table}

O comportamento  da ferramenta pode ser configurado a partir do caminho do arquivo que, dependendo da versão, pode ter o nome de tox.ini, setup.cfg ou ter a extensão .pep8.  O caminho deste arquivo é "/etc/config/arquivo", quando o sistema operacional é Linux; caso seja Windows, o caminho é "%userprofile%/pep8".

O Código \ref{configPep8} contém um modelo de configuração encontrada ao abrir o arquivo de comportamento.

\lstinputlisting[language=Bash, caption=Arquivo de configuração., label=configPep8]{cods/confPep8.sh}

O Anexo A exibe a lista atual de códigos de erros e de alertas,  que podem vir a ser exibidos após uma analise de um código-fonte.

\subsection{Flake 8}
\label{flake_8}

É uma ferramenta que permite a verificação de erros de sintaxe, estilo de codificação e padrões em códigos escritos em linguagem Python. \cite{flake-8_2015} A versão utilizada é a 2.2.3 release 25-08-2014, versão baseada em Linux,
 
A sua instalação pode ser realizada através da linha de comando exemplificado na Tabela \ref{instflak8}

\begin{table}[ht]
        \caption{Instalação Flake8.}
        \label{instflak8}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
         pip install flake8 \\
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

Na Tabela \ref{sintxflak8} é exemplificada a sintaxe de uso da ferramenta em um determinado projeto, e com seus respectivos resultados, na qual apresenta a estrutura de uma letra do alfabeto, seguida  de um número e uma mensagem descrevendo a violação ao estilo descrito na seção \ref{pep8} detectada.

\begin{table}[ht]
        \caption{Sintaxe de uso do Flake8.}
        \label{sintxflak8}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
		\$ flake8 coolproject \\
		coolproject/mod.py:97:1: F401 'shutil' imported but unused \\
		coolproject/mod.py:625:17: E225 faltandoEspaços em branco around operato \\
		coolproject/mod.py:729:1: F811 redefinition of function 'readlines' from line 723 \\
		coolproject/mod.py:1028:1: F841 local variable 'errors' is assigned to but never use \\
        \bottomrule
        \end{tabularx}
        \end{center}
\end{table}

\section{Linguagens de Programação}

\subsection{Java}

A linguagem de programação Java foi utilizada para criar o algorítimo que captura arquivos compactados e o armazenamento localmente para a realização da validação deste trabalho.
A versão utilizada para o desenvolvimento dos procedimentos escritos em java é JDK 7 (Java SE Development Kit) release 1.7.0\_75, e pode ser obtido no endereço eletrônico \footnote{http://bit.ly/1mTJaPC}.

\subsection{Python}

A versão utilizada neste trabalho é a 2.7.9, release 10-12-2014, esta versão faz parte da instalação padrão do sistema operacional citado na seção \ref{linux_mint}, caso deseje executar uma instalação de outra versão superior a utilizada neste estudo, é necessário acessar o endereço eletrônico \footnote{https://www.python.org/downloads/}

\section{Extrator de métricas}

Neste capítulo detalharemos os procedimentos efetuados para verificar se os projetos contidos  no repositório de software livre PyPI \cite{pypi_2015} escritos em  Python estão aderentes ao padrão descrito na seção \ref{pep8}, e qual o nível de adoção de cada projeto.

\subsection{Rotinas e Scripts}

O desenvolvimento dos scripts se deu pela necessidade de automatizar o processo de identificação e  transferência de um ou mais arquivos de um servidor remoto para um computador local, tornando processo necessários para prosseguir com o procedimento de análise do estilo de codificação recomendadas para a linguagem Python [3] e a quatificação das métricas avaliadas.

\subsection{Rotinas Java}

A primeira etapa se da na leitura de uma página web do endereço eletrônico \ref{https://pypi.python.org/pypi?:action=index} para a obtenção dos endereçamentos dos arquivos compactados. Para a execução desta tarefa foi desenvolvido um procedimento escrito em Java.

O Código \ref{obtLinksPac} apresenta o método utilizado para realizar a captura dos endereços eletrônicos dos arquivos compactados a serem salvos localmente. 

\lstinputlisting[language=Java, caption=Código para obter endereços dos pacotes., label=obtLinksPac]{cods/ObterLinkPacotes_new.java}

O resultado do procedimento acima, gerou um arquivo texto denomiado \texttt{write.txt}, contendo 63.313.00 mil linhas. A Tabela \ref{linksobt}, exemplifica um trecho do arquivo de texto que foi criado.

\begin{table}[ht]
        \caption{Links obtidos pelo código.}
        \label{linksobt}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
                https://pypi.python.org/pypi/02exercicio/1.0.0\\
		https://pypi.python.org/pypi/0x10c-asm/0.0.2\\
		https://pypi.python.org/pypi/115wangpan/0.5.0\\
		https://pypi.python.org/pypi/131228\_pytest\_1/1.0.0\\
		https://pypi.python.org/pypi/1337/1.0.0\\
		https://pypi.python.org/pypi/17MonIP/0.2.4\\
		https://pypi.python.org/pypi/18-e/final\\
		https://pypi.python.org/pypi/1ee/1.0.0\\
		https://pypi.python.org/pypi/1pass/0.2.1\\
		https://pypi.python.org/pypi/1to001/0.3.0\\
		https://pypi.python.org/pypi/2013007\_pyh/1.0.0\\
		...... \\
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

Na segunda etapa foi escrito outro procedimento, também em linguagem Java, o qual recebe como parâmetro os endereços obtido na etapa anterior e a partir de cada endereço é executada uma análise baseada em padrões da construção da página para encontrar o link que aponta para o arquivo compactado. Assim que a rotina encontrava o link dava-se iniciava a transferência e o armazenamento do arquivo em um diretório local.

O Código \ref{downFile}, apresenta a rotina de análise da estrutura das páginas web para a descoberta dos links que contém os arquivos compactados.

\lstinputlisting[language=Java, caption=Obter link dos arquivos compactados., label=downFile]{cods/UrlContent.java}

O Código \ref{downFile2} apresenta o método utilizado para realizar a transferência e o armazenamento dos arquivos compactados. 

\lstinputlisting[language=Java, caption=Obter arquivos compactados., label=downFile2]{cods/UrlContent2.java}

As etapas anteriores foram adotadas a linguagem de programação Java \cite{java_2015} por se tratar de uma linguagem que possui maior desempenho e menor consumo de processamento segundo o comparativo descrito em \cite{BencJavaPython}, neste endereço é exibido um comparativo entre as linguagens Java e Python.

Para a criação e execução dos procedimentos acima mencionados foram encontrados alguns obstáculos a serem superados. A primeira dificuldade foi a de compreender a estrutura do site na qual está localizado o repositório com os arquivos compactados para o download, pois o domínio \cite{pypi_2015} além de conter vários endereços (o que torna a página pesada e extensa de se carregar e navegar), os mesmos não direcionavam ao arquivo desejado e sim a uma nova página que continha uma outra página com uma determinada estrutura que também necessitava de análise para criar rotinas para a localização do arquivo para que pudesse ser salvo no disco rígido.
 
A outra dificuldade foi o tempo necessário para a execução e conclusão do processo de aquisição dos pacotes \cite{pypi_2015} , pois a cada período de execução dos algoritmos o tempo de resposta para a obtenção dos arquivos aumentava. Isto foi consequência do mecanismo de defesa utilizado pelo endereço eletrônico que continha os arquivos compactados, de modo que todo o processo  teve a duração média de 4 dias para finalizar sua execução. A execução do script não aconteceu ininterruptamente pois houveram interrupções e intervenções manuais quando ocorria erros ou tratamento de exceção para os arquivos não encontrados ou endereços eletrônicos inexistentes. A tabela \ref{exctransarq}, exemplifica os tipos de exceções encontradas na transferência dos arquivos.

\begin{table}[ht]
        \caption{Exceções na transferência de arquivos.}
        \label{exctransarq}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
        	00:12:25,713 ERROR UrlContent:237 - http://aha-gae.googlecode.com/files/project.zip \\
		\%20rel=nofollow \\
		00:14:12,920 ERROR UrlContent:237 - Software caused connection abort: recv failed \\
		00:16:54,874 ERROR UrlContent:237 - Server returned HTTP response code: 403 for \\
				URL: http://jamwt.com/downloads/apricot/apricot-0.2.tar.gz \\
		00:17:03,524 ERROR UrlContent:237 - https://bitbucket.org/ganymed/araldo/downloads/ \\
		araldo-redis-latest.tar.gz \\
		00:17:04,618 ERROR UrlContent:237 - https://bitbucket.org/ganymed/araldo/downloads/ \\
		araldo-websocket-latest.tar.gz \\
		00:17:52,369 ERROR UrlContent:237 - http://programmer-art.org/media/releases/ \\
		arista-transcoder/arista-0.9.7.tar.gz \\
		00:18:31,121 ERROR UrlContent:237 - Server returned HTTP response code: 400 for \\
				URL: http://sourceforge.net/project/downloading.php \\
		00:18:43,788 ERROR UrlContent:237 - https://code.google.com/p/pyswim/downloads/detail \\
		00:20:07,981 ERROR UrlContent:237 - Unexpected end of file from server \\
		00:20:53,183 ERROR UrlContent:237 - http://www.wayforward.net/avdata/avdata-0.1.0.tar.gz \\
		19:19:06,759 ERROR UrlContent:237 - Connection timed out: connect \\
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

\subsection{Scripts Python}

Para o desenvolvimento do script responsável pela a análise e coleta das métricas proposta na seção \ref{pep8}, utilizamos a linguagem Python e o sistema operacional Linux, também é aplicada a técnica de desenvolvimento chamada programação em par.
 
A programação em par é uma das práticas primárias da metodologia XP. Como o nome sugere, é uma prática de programação que envolve dois programadores em um mesmo computador trabalhando de forma colaborativa. Um programador ¿piloto¿ implementa o código controlando o teclado e o mouse. Outro programador observa o piloto e é responsável por revisar o código ao mesmo tempo, prevenindo e identificando erros lógicos e sintáticos no código. Ambos os programadores podem atuar nos dois papéis e decidir a freqüência da troca \cite{pairprogram_2002, págs. 38-42}.
 
Tal prática foi adotada pelo fato de que  código produzido é visto por, pelo menos, duas pessoas é menor a correção de falhas, com isto possuí menor manutenibilidade aumenta a velocidade de desenvolvimento e há o compartilhamento de  conhecimento.

O Código \ref{extractFile} e \ref{extractFile2}, exibe a rotina desenvolvida para a obtenção dos resultados gerados utilizando as métricas do guia de estilo descritas na seçao \ref{pep8}.

O Código \ref{extractFile} é responsável pela execução da ferramenta descrita na seção 3.1.2.6(ref).

\lstinputlisting[language=Python, caption=Procedimento A responsável pela execução do procedimento execExtractFiles.py., label=extractFile]{cods/extractFiles.py}

Código \ref{extractFile2} - procedimento referenciado no código xxx, que tem como tarefa a extração dos arquivos em um arquivo temporário para sua análise.

\lstinputlisting[language=Python, caption=Procedimento B responsável pela execução do procedimento execExtractFiles.py., label=extractFile2]{cods/extractFiles2.py}

O script foi desenvolvido em duas partes contendo as seguintes funcionalidades:

\begin{itemize}
	\item Acessar um determinado diretório (neste trabalho, chamado /tcc-unb/arquivos);
	\item Ler arquivo com extensões *.zip, *.tar.gz, *.bz2, *.egg, *.tgz, e *.whl. descompactado em um diretório temporário do sistema operacional (por, exe	mplo, \\tmp);
	\item Após a extração do arquivo, executar o flake8, ferramenta citada no item \ref{flake_8}, tendo como parâmetros as regras mais relevantes. 
	Esta ferramenta analisa, linha a linha, cada arquivo dentro de cada projeto. No Código xxx é exemplificado o resultado da análise da execução da 
	ferramenta mencionada;
	\item Ao término da análise o script move o arquivo compactado para um outro diretório (denominado "arquivos -orig"), onde contém sub diretórios refente	s a sua extensão (por exemplo, "/arquivos-orig/zip", "/arquivos-orig/tar.gz", "/arquivos-orig/tgz" etc..).
\end{itemize}

Os procedimentos executados anteriormente deu origem a um arquivo texto denominado resultado-flake8.txt e tem sua estrutura exemplificada no Código \ref{exemScriptPep8} 

\begin{table}[ht]
        \caption{Exemplo do resultado da execução do script com regras \ref{pep8}}
        \label{exemScriptPep8}
        \begin{center}
        \begin{tabularx}{0.99\textwidth}{lX}
        \midrule
		ArangoPy-0.0.9.tar.gz \\ %[]
		4 modules \\
		-- /tmp/tmpUn3gdb/ArangoPy-0.0.9/setup.py \\
		-- /tmp/tmpUn3gdb/ArangoPy-0.0.9/arangodb/tests.py \\
		1       E262 inline comment should start with '\# ' \\
		1       W292 no newline at end of file \\
		-- /tmp/tmpUn3gdb/ArangoPy-0.0.9/arangodb/\_\_init\_\_.py \\
		-- /tmp/tmpUn3gdb/ArangoPy-0.0.9/arangodb/api.py \\
		1       E271 multiple spaces after keyword \\
		2       E303 too many blank lines (2) \\
		5       E501 line too long (81 > 79 characters) \\
		4       F821 undefined name 'QueryFilterStatement' \\ 
	\bottomrule
        \end{tabularx}
        \end{center}
\end{table}

É criado um terceiro script utilizando a linguagem python, com a finalidade de quantificar os resultados obtidos, este script é exibido no Código \ref{scriptRules}.

\lstinputlisting[language=Python, caption=Script extrator dos resultados das métricas., label=scriptRules]{cods/extractResultRules.py}

Neste estudo foram removida as verificações para os seguintes códigos de erros: E121; E123; E126; E133; E226; E241; E242; E704. Esta remoção ocorreu pois de acordo com a seção \ref{pep8}, estas regras não são aceitas por unanimidade.

